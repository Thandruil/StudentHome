{% load i18n %}

<div id="new-transaction" class="modal modal-fixed-footer">
    <div class="modal-content">
        <h4>New Transaction</h4>

        <form id="new-transaction-form">
            {% csrf_token %}
            <div class="row">
                <div class="input-field col s12 m6">
                    <input placeholder="..." id="description" name="description" type="text"
                           class="validate">
                    <label>{% trans 'description'|capfirst %}</label>
                </div>
                <div class="input-field col s12 m6">
                    <input value="{% now "DATE_FORMAT" %}" id="date" name="date" type="date"
                           class="datepicker validate">
                    <label>{% trans 'date'|capfirst %}</label>
                </div>
                <div class="input-field col s12 m6">
                    <input placeholder="0.00" id="amount" name="amount" type="number" step="0.01" class="validate">
                    <label>{% trans 'amount'|capfirst %}</label>
                </div>
                <div class="input-field col s12 m6">
                    <select name="paid_by">
                        {% for person in user.inhabitant.household.inhabitant_set.all %}
                            <option value="{{ person.user.id }}">{{ person }}</option>
                        {% endfor %}
                    </select>
                    <label>{% trans 'paid by'|capfirst %}</label>
                </div>
            </div>
            <div class="row">
                {% for person in user.inhabitant.household.inhabitant_set.all %}
                    <div class="input-field col s6 m3">
                        <input type="checkbox" id="{{ person.user.id }}">
                        <label for="{{ person.user.id }}">{{ person }}</label>
                    </div>
                {% endfor %}
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <a onclick="sendForm();"
           class="modal-action waves-effect waves-green btn-flat">{% trans 'confirm' %}</a>
        <a class="modal-action modal-close waves-effect waves-red btn-flat">{% trans 'cancel' %}</a>
    </div>
</div>